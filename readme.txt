Плагин "HTTPS Detect" (версия 1.0.0) для LiveStreet 1.0.3


ОПИСАНИЕ

Плагин отслеживает схему, использованную пользователем для входа на сайт
(HTTP или HTTPS) и корректирует значение "$config['path']['root']['web']"
и ссылки на JS и CSS файлы, ссылки на аватары и фотографии пользователей,
ссылки на изображения в фотосете, а также ссылки на изображения в тексте
топиков, комментариев и т.д.

При использовании перед Apache в качестве frontend сервера nginx необходимо добавить в его конфигурацию строку
proxy_set_header X-Forwarded-Proto $scheme;


Настройка плагина осуществляется редактированием файла "/plugins/httpsdetect/config/config.php".

Поддерживаемые директивы:
1) $config['correct_js_link'] - Обрабатывать ссылки на JS-файлы. По умолчанию включено (true).

2) $config['correct_css_link'] - Обрабатывать ссылки на CSS-файлы. По умолчанию включено (true).

3) $config['correct_img_src'] - Обрабатывать ссылки на изображения. По умолчанию включено (true).
Обработка осуществляется:
- в тексте топиков;
- в тексте комментариев;
- в описании блога;
- в сообщениях;
- в записях на стене;
- в информации пользователей "О себе".

4) $config['separate_path'] - Добавлен параметр $config['separate_path'] - Использовать отдельный путь для хранения
JS и CSS файлов HTTPS протокола. По умолчанию отключено (false).



УСТАНОВКА

1. Скопировать плагин в каталог /plugins/
2. Через панель управления плагинами (/admin/plugins/) запустить его активацию.



АВТОР
Александр Вереник

САЙТ 
https://github.com/wasja1982/livestreet_httpsdetect
